---

# based on example generated by running inventory.py
all:
  hosts:
    # note IP is needed, fqdn cause errors
    # master:
    #   access_ip: "192.168.1.105"
    #   ansible_host: "192.168.1.105"
    #   ip: "192.168.1.105"
    #   ansible_user: root
    m1173:
      access_ip: "192.168.1.102"
      ansible_host: "192.168.1.102"
      ip: "192.168.1.102"
      ansible_user: root
    aries:
      access_ip: "192.168.1.119"
      ansible_host: "192.168.1.119"
      ip: "192.168.1.119"
      ansible_user: root
      # CPU isolation from Linux scheduler
      isolcpus_enabled: false
      isolcpus: "1,3-11,13,15-23"
      # CPU and memory reservation for worker nodes,
      # details at https://kubernetes.io/docs/tasks/administer-cluster/reserve-compute-resources/
      cpu_reserved: "0,12"
      system_reserved: true
      # now these two CPU setting is needed to let policymanager manage pool correctly
      # And for kube-scheduler to calculate capacity, 550m+550M+(about 400m) < 2,
      # then 24-2=22 CPUs are capacity for this node in scheduling pods.
      system_cpu_reserved: 550m
      system_memory_reserved: 1024M
      kube_cpu_reserved: 550m
      kube_memory_reserved: 1024M
    # athena:
    #   access_ip: "192.168.1.142"
    #   ansible_host: "192.168.1.142"
    #   ip: "192.168.1.142"
    #   ansible_user: root
    #   # CPU isolation from Linux scheduler
    #   isolcpus_enabled: false
    #   isolcpus: "1,3-11,13,15-23"
    #   # CPU and memory reservation for worker nodes,
    #   # details at https://kubernetes.io/docs/tasks/administer-cluster/reserve-compute-resources/
    #   # cpu_reserved: "0,2,12,14"
    #   system_reserved: true
    #   # now these two CPU setting is needed to let policymanager manage pool correctly
    #   system_cpu_reserved: 2000m
    #   system_memory_reserved: 512M
    #   kube_cpu_reserved: 2000m
    #   kube_memory_reserved: 512M
  children:
    kube-master:
      hosts:
        # master:
        m1173:
    kube-node:
      hosts:
        aries:
        # athena:
    etcd:
      hosts:
        # master:
        m1173:
    k8s-cluster:
      children:
        kube-master:
        kube-node:
    calico-rr:
      hosts: {}

...
